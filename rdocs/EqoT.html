<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class EqoT - RDoc Documentation</title>

<link href="./fonts.css" rel="stylesheet">
<link href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/navigation.js"></script>
<script src="./js/search_index.js"></script>
<script src="./js/search.js"></script>
<script src="./js/searcher.js"></script>
<script src="./js/darkfish.js"></script>


<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    <div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">Math</span>
  
  
  </ul>
</div>

    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-ajd_to_datetime">#ajd_to_datetime</a>
    
    <li ><a href="#method-i-al_Sun">#al_Sun</a>
    
    <li ><a href="#method-i-angle_delta_oblique">#angle_delta_oblique</a>
    
    <li ><a href="#method-i-angle_delta_orbit">#angle_delta_orbit</a>
    
    <li ><a href="#method-i-angle_delta_psi">#angle_delta_psi</a>
    
    <li ><a href="#method-i-angle_equation_of_time">#angle_equation_of_time</a>
    
    <li ><a href="#method-i-apparent_longitude">#apparent_longitude</a>
    
    <li ><a href="#method-i-apparent_longitude_string">#apparent_longitude_string</a>
    
    <li ><a href="#method-i-bd">#bd</a>
    
    <li ><a href="#method-i-center">#center</a>
    
    <li ><a href="#method-i-check_date_nil">#check_date_nil</a>
    
    <li ><a href="#method-i-check_date_zero">#check_date_zero</a>
    
    <li ><a href="#method-i-check_jct_nil">#check_jct_nil</a>
    
    <li ><a href="#method-i-check_jct_zero">#check_jct_zero</a>
    
    <li ><a href="#method-i-check_jd_nil">#check_jd_nil</a>
    
    <li ><a href="#method-i-check_jd_zero">#check_jd_zero</a>
    
    <li ><a href="#method-i-check_t_nil">#check_t_nil</a>
    
    <li ><a href="#method-i-check_t_zero">#check_t_zero</a>
    
    <li ><a href="#method-i-cosd">#cosd</a>
    
    <li ><a href="#method-i-cosine_al_Sun">#cosine_al_Sun</a>
    
    <li ><a href="#method-i-cosine_apparent_longitude">#cosine_apparent_longitude</a>
    
    <li ><a href="#method-i-cosine_tl_Sun">#cosine_tl_Sun</a>
    
    <li ><a href="#method-i-cosine_to_Earth">#cosine_to_Earth</a>
    
    <li ><a href="#method-i-cosine_true_longitude">#cosine_true_longitude</a>
    
    <li ><a href="#method-i-cosine_true_obliquity">#cosine_true_obliquity</a>
    
    <li ><a href="#method-i-dec_Sun">#dec_Sun</a>
    
    <li ><a href="#method-i-declination">#declination</a>
    
    <li ><a href="#method-i-declination_string">#declination_string</a>
    
    <li ><a href="#method-i-deg_to_rad">#deg_to_rad</a>
    
    <li ><a href="#method-i-degrees_to_radians">#degrees_to_radians</a>
    
    <li ><a href="#method-i-degrees_to_s">#degrees_to_s</a>
    
    <li ><a href="#method-i-delta_epsilon">#delta_epsilon</a>
    
    <li ><a href="#method-i-delta_equinox">#delta_equinox</a>
    
    <li ><a href="#method-i-delta_oblique">#delta_oblique</a>
    
    <li ><a href="#method-i-delta_orbit">#delta_orbit</a>
    
    <li ><a href="#method-i-delta_psi">#delta_psi</a>
    
    <li ><a href="#method-i-delta_t_ecliptic">#delta_t_ecliptic</a>
    
    <li ><a href="#method-i-delta_t_elliptic">#delta_t_elliptic</a>
    
    <li ><a href="#method-i-display_equation_of_time">#display_equation_of_time</a>
    
    <li ><a href="#method-i-display_time_string">#display_time_string</a>
    
    <li ><a href="#method-i-eccentricity_Earth">#eccentricity_Earth</a>
    
    <li ><a href="#method-i-eccentricity_earth_orbit">#eccentricity_earth_orbit</a>
    
    <li ><a href="#method-i-eot">#eot</a>
    
    <li ><a href="#method-i-eot_jd">#eot_jd</a>
    
    <li ><a href="#method-i-eq_of_equinox">#eq_of_equinox</a>
    
    <li ><a href="#method-i-equation_of_center">#equation_of_center</a>
    
    <li ><a href="#method-i-factor">#factor</a>
    
    <li ><a href="#method-i-geometric_mean_longitude">#geometric_mean_longitude</a>
    
    <li ><a href="#method-i-gml_Sun">#gml_Sun</a>
    
    <li ><a href="#method-i-ha_Sun">#ha_Sun</a>
    
    <li ><a href="#method-i-horizon_angle">#horizon_angle</a>
    
    <li ><a href="#method-i-jd_to_date_string">#jd_to_date_string</a>
    
    <li ><a href="#method-i-julian_period_day_fraction_to_time">#julian_period_day_fraction_to_time</a>
    
    <li ><a href="#method-i-ma_Sun">#ma_Sun</a>
    
    <li ><a href="#method-i-mean_anomaly">#mean_anomaly</a>
    
    <li ><a href="#method-i-mean_anomaly_string">#mean_anomaly_string</a>
    
    <li ><a href="#method-i-mean_local_noon_dt">#mean_local_noon_dt</a>
    
    <li ><a href="#method-i-mean_longitude_aries">#mean_longitude_aries</a>
    
    <li ><a href="#method-i-mean_obliquity">#mean_obliquity</a>
    
    <li ><a href="#method-i-mean_obliquity_of_ecliptic">#mean_obliquity_of_ecliptic</a>
    
    <li ><a href="#method-i-ml_Aries">#ml_Aries</a>
    
    <li ><a href="#method-i-mo_Earth">#mo_Earth</a>
    
    <li ><a href="#method-i-mod_360">#mod_360</a>
    
    <li ><a href="#method-i-now">#now</a>
    
    <li ><a href="#method-i-obliquity_correction">#obliquity_correction</a>
    
    <li ><a href="#method-i-omega">#omega</a>
    
    <li ><a href="#method-i-ra_Sun">#ra_Sun</a>
    
    <li ><a href="#method-i-rad_to_deg">#rad_to_deg</a>
    
    <li ><a href="#method-i-radians_to_degrees">#radians_to_degrees</a>
    
    <li ><a href="#method-i-right_ascension">#right_ascension</a>
    
    <li ><a href="#method-i-right_ascension_string">#right_ascension_string</a>
    
    <li ><a href="#method-i-show_minutes">#show_minutes</a>
    
    <li ><a href="#method-i-show_now">#show_now</a>
    
    <li ><a href="#method-i-sind">#sind</a>
    
    <li ><a href="#method-i-sine_al_Sun">#sine_al_Sun</a>
    
    <li ><a href="#method-i-sine_apparent_longitude">#sine_apparent_longitude</a>
    
    <li ><a href="#method-i-sine_tl_Sun">#sine_tl_Sun</a>
    
    <li ><a href="#method-i-sine_true_longitude">#sine_true_longitude</a>
    
    <li ><a href="#method-i-string_al_Sun">#string_al_Sun</a>
    
    <li ><a href="#method-i-string_day_fraction_to_time">#string_day_fraction_to_time</a>
    
    <li ><a href="#method-i-string_dec_Sun">#string_dec_Sun</a>
    
    <li ><a href="#method-i-string_delta_oblique">#string_delta_oblique</a>
    
    <li ><a href="#method-i-string_delta_orbit">#string_delta_orbit</a>
    
    <li ><a href="#method-i-string_eot">#string_eot</a>
    
    <li ><a href="#method-i-string_eqc">#string_eqc</a>
    
    <li ><a href="#method-i-string_jd_to_date">#string_jd_to_date</a>
    
    <li ><a href="#method-i-string_ma_Sun">#string_ma_Sun</a>
    
    <li ><a href="#method-i-string_ra_Sun">#string_ra_Sun</a>
    
    <li ><a href="#method-i-string_ta_Sun">#string_ta_Sun</a>
    
    <li ><a href="#method-i-string_time">#string_time</a>
    
    <li ><a href="#method-i-string_tl_Sun">#string_tl_Sun</a>
    
    <li ><a href="#method-i-string_to_Earth">#string_to_Earth</a>
    
    <li ><a href="#method-i-sunrise_dt">#sunrise_dt</a>
    
    <li ><a href="#method-i-sunrise_jd">#sunrise_jd</a>
    
    <li ><a href="#method-i-sunset_dt">#sunset_dt</a>
    
    <li ><a href="#method-i-sunset_jd">#sunset_jd</a>
    
    <li ><a href="#method-i-ta_Sun">#ta_Sun</a>
    
    <li ><a href="#method-i-time_delta_oblique">#time_delta_oblique</a>
    
    <li ><a href="#method-i-time_delta_orbit">#time_delta_orbit</a>
    
    <li ><a href="#method-i-time_eot">#time_eot</a>
    
    <li ><a href="#method-i-time_julian_centurey">#time_julian_centurey</a>
    
    <li ><a href="#method-i-time_julian_century">#time_julian_century</a>
    
    <li ><a href="#method-i-tl_Aries">#tl_Aries</a>
    
    <li ><a href="#method-i-tl_Sun">#tl_Sun</a>
    
    <li ><a href="#method-i-to_Earth">#to_Earth</a>
    
    <li ><a href="#method-i-to_deg">#to_deg</a>
    
    <li ><a href="#method-i-true_anomaly">#true_anomaly</a>
    
    <li ><a href="#method-i-true_anomaly_string">#true_anomaly_string</a>
    
    <li ><a href="#method-i-true_longitude">#true_longitude</a>
    
    <li ><a href="#method-i-true_longitude_aries">#true_longitude_aries</a>
    
    <li ><a href="#method-i-true_longitude_string">#true_longitude_string</a>
    
    <li ><a href="#method-i-true_obliquity">#true_obliquity</a>
    
    <li ><a href="#method-i-true_obliquity_string">#true_obliquity_string</a>
    
    <li ><a href="#method-i-truncate">#truncate</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-EqoT">
  <h1 id="class-EqoT" class="class">
    class EqoT
  </h1>

  <section class="description">
    
<p>angles.rb</p>

<p>displays.rb</p>

<p>init.rb</p>

<p>times.rb</p>

<p>utilities.rb</p>

<p>version.rb</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="A2000">A2000
        
        <dd><p>Array result for <a
href="EqoT.html#method-i-time_julian_century">#time_julian_century</a>
default = [0.0, 0.0, 0.0, 0.0, 0.0]</p>
        
      
        <dt id="ARCSEC">ARCSEC
        
        <dd><p>Arc seconds in a degree = 3_600.0</p>
        
      
        <dt id="ASD">ASD
        
        <dd><p>Arc seconds in a degree = 3_600.0</p>
        
      
        <dt id="ASH">ASH
        
        <dd><p>Arc seconds in an hour = 240.0</p>
        
      
        <dt id="AULT">AULT
        
        <dd><p>Light time for 1 au (s) = 499.004782</p>
        
      
        <dt id="CMPS">CMPS
        
        <dd><p>Speed of light (m/s) = 299792458.0</p>
        
      
        <dt id="D2000">D2000
        
        <dd><p>Default date string = “2000-01-01”</p>
        
      
        <dt id="D2PI">D2PI
        
        <dd><p>2Pi = 6.283185307179586476925287</p>
        
      
        <dt id="DAS2R">DAS2R
        
        <dd><p>Arcseconds to radians = 4.848136811095359935899141e-6</p>
        
      
        <dt id="DAU">DAU
        
        <dd><p>Astronomical unit (m) = 149597870e3</p>
        
      
        <dt id="DAYSEC">DAYSEC
        
        <dd><p>Seconds in a day = 86_400.0</p>
        
      
        <dt id="DAY_HOURS">DAY_HOURS
        
        <dd><p>Hours in a day = 24.0</p>
        
      
        <dt id="DAY_MINUTES">DAY_MINUTES
        
        <dd><p>Minutes in a day = 1_440.0</p>
        
      
        <dt id="DAY_SECONDS">DAY_SECONDS
        
        <dd><p>Seconds in a day = 86_400.0</p>
        
      
        <dt id="DAY_USECS">DAY_USECS
        
        <dd><p>Micro Seconds in a day = 86_400_000_000.0</p>
        
      
        <dt id="DC">DC
        
        <dd><p>Speed of light (AU per day) = <a href="EqoT.html#DAYSEC">DAYSEC</a> / <a
href="EqoT.html#AULT">AULT</a></p>
        
      
        <dt id="DD2R">DD2R
        
        <dd><p>Degrees to radians = 1.745329251994329576923691e-2</p>
        
      
        <dt id="DJ00">DJ00
        
        <dd><p>Reference epoch (J2000.0), Julian Date Default Julian Number = 2451545.0</p>
        
      
        <dt id="DJC">DJC
        
        <dd><p>Days per Julian century = 36525.0</p>
        
      
        <dt id="DJM">DJM
        
        <dd><p>Days per Julian millennium  = 365250.0</p>
        
      
        <dt id="DJM0">DJM0
        
        <dd><p>Julian Date of Modified Julian Date zero 1858, 11, 17, 0.0 midnight start
of calendar reform = 2400000.5 Removed from Julian Date to get Modified
Julian Date</p>
        
      
        <dt id="DJM00">DJM00
        
        <dd><p>Reference epoch (J2000.0), Modified Julian Date = 51544.5</p>
        
      
        <dt id="DJM77">DJM77
        
        <dd><p>1977 Jan 1.0 as MJD = 43144.0</p>
        
      
        <dt id="DJY">DJY
        
        <dd><p>Days per Julian year = 365.25</p>
        
      
        <dt id="DMAS2R">DMAS2R
        
        <dd><p>Milli-arc-seconds to radians  = <a href="EqoT.html#DAS2R">DAS2R</a> / 1e3</p>
        
      
        <dt id="DPI">DPI
        
        <dd><p>Pi = 3.141592653589793238462643</p>
        
      
        <dt id="DR2AS">DR2AS
        
        <dd><p>Radians to arc seconds = 206264.8062470963551564734</p>
        
      
        <dt id="DR2D">DR2D
        
        <dd><p>Radians to degrees = 57.29577951308232087679815</p>
        
      
        <dt id="DS2R">DS2R
        
        <dd><p>Seconds of time to radians = 7.272205216643039903848712e-5</p>
        
      
        <dt id="DT2000">DT2000
        
        <dd><p>Default DateTime = DateTime.new( 2000, 01, 01, 12, 00, 00, “+00:00” )</p>
        
      
        <dt id="DTR">DTR
        
        <dd><p>arc seconds degrees to radians = PI / 180.0 / <a
href="EqoT.html#ARCSEC">ARCSEC</a></p>
        
      
        <dt id="DTY">DTY
        
        <dd><p>Length of tropical year B1900 (days) = 365.242198781</p>
        
      
        <dt id="ELB">ELB
        
        <dd><p>L_B = 1 - d(TDB)/d(TCB)  = 1.550519768e-8</p>
        
      
        <dt id="ELG">ELG
        
        <dd><p>L_G = 1 - d(TT)/d(TCG) = 6.969290134e-10</p>
        
      
        <dt id="J2000">J2000
        
        <dd><p>Reference epoch (J2000.0), Julian Date Default Julian Number = 2451545.0</p>
        
      
        <dt id="MJD0">MJD0
        
        <dd><p>Julian Date of Modified Julian Date zero 1858, 11, 17, 0.0 midnight start
of calendar reform = 2400000.5</p>
        
      
        <dt id="P2">P2
        
        <dd><p>2Pi from Math module = Math::PI * 2.0</p>
        
      
        <dt id="RTD">RTD
        
        <dd><p>arc seconds radians to degrees = 180.0 / PI * <a
href="EqoT.html#ARCSEC">ARCSEC</a></p>
        
      
        <dt id="SM">SM
        
        <dd><p>Sidereal minutes = 4.0 / 1.0027379093507953456536618754278</p>
        
      
        <dt id="SRS">SRS
        
        <dd><p>Schwarzschild radius of the Sun (au) = 2 * 1.32712440041e20 /
(2.99792458e8)^2 / 1.49597870700e11</p>
        
      
        <dt id="TDB0">TDB0
        
        <dd><p>TDB (s) at TAI 1977/1/1.0 = -6.55e-5</p>
        
      
        <dt id="TTMTAI">TTMTAI
        
        <dd><p>TT minus TAI (s) = 32.184</p>
        
      
        <dt id="TURNAS">TURNAS
        
        <dd><p>Arcseconds in a full circle  = 1296000.0</p>
        
      
        <dt id="VERSION">VERSION
        
        <dd><p>in version.rb</p>
        
      
      </dl>
    </section>
    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-addr" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">addr</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>From init.rb:<br> address used for <a
href="GeoLatLng.html#attribute-i-addr">GeoLatLng#addr</a> when
used.(commented out)</p>
        
        </div>
      </div>
      
      <div id="attribute-i-ajd" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">ajd</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>From init.rb:<br> Astronomical Julian Day Number is an instance of Date
class. When new Equation of Time class is initialized @ajd = jd = today
DateTime.jd Used for getting the equation of time now if it is set for
that. There is  always a slight delay in the computation though.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-data" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">data</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>From init.rb:<br> Nutation Data is an instance of Array class. @data =
nutation_table5_3a.yaml  YAML File loaded when new Equation of Time class
is initialized.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-date" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">date</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>From init.rb:<br> @date is an instance of Date class.</p>

<p>When new Equation of Time class is initialized @date = today</p>
        
        </div>
      </div>
      
      <div id="attribute-i-jd" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">jd</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>From init.rb:<br> Julian Day Number is an instance of Date class. When new
Equation of Time class is initialized @jd = jd today</p>
        
        </div>
      </div>
      
      <div id="attribute-i-latitude" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">latitude</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>From init.rb:<br> Latitude input is an instance of Float class. When new
Equation of Time class is initialized @latitude = 0.0 May use <a
href="GeoLatLng.html">GeoLatLng</a> class to set it also but is commented
out or will fail if no  internet connection is present.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-longitude" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">longitude</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>From init.rb:<br> Longitude input is an instance of Float class. When new
Equation of Time class is initialized @longitude = 0.0 May use <a
href="GeoLatLng.html">GeoLatLng</a> class to set it also but is commented
out or will fail if no  internet connection is present.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-ma" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">ma</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>From init.rb:<br> Mean Anomaly gets called a lot so attribute accessor
saves time</p>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(addr=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From init.rb:<br> Initialize loads nutation data with safe_yaml and is
frozen, atrributes are set. You may use <a
href="GeoLatLng.html">GeoLatLng</a> to set up @latitude and @longitude but
you need to have internet so that is commented out for now.</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/eot/init.rb, line 55</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">addr</span>=<span class="ruby-keyword">nil</span>)

    <span class="ruby-identifier">file_path</span>     = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>( <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>( <span class="ruby-keyword">__FILE__</span> ) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;/nutation_table5_3a.yaml&quot;</span> )
    <span class="ruby-ivar">@data</span>         = <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">load</span>( <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>( <span class="ruby-identifier">file_path</span>, <span class="ruby-string">&#39;r&#39;</span>), <span class="ruby-value">:safe</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>  ).<span class="ruby-identifier">freeze</span>
 
    <span class="ruby-ivar">@ajd</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@ajd</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">to_time</span>.<span class="ruby-identifier">utc</span>.<span class="ruby-identifier">to_datetime</span>.<span class="ruby-identifier">jd</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@ajd</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">ajd</span>      
    <span class="ruby-ivar">@date</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@date</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">to_time</span>.<span class="ruby-identifier">utc</span>.<span class="ruby-identifier">to_date</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@date</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">date</span>
    <span class="ruby-ivar">@jd</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@jd</span>  = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">to_time</span>.<span class="ruby-identifier">utc</span>.<span class="ruby-identifier">to_datetime</span>.<span class="ruby-identifier">jd</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@jd</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">jd</span>
    <span class="ruby-ivar">@latitude</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@latitude</span> = <span class="ruby-value">0.0</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@latitude</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">latitude</span>
    <span class="ruby-ivar">@longitude</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@longitude</span> = <span class="ruby-value">0.0</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@longitude</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">longitude</span>    
    <span class="ruby-ivar">@ma</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@ma</span> = <span class="ruby-identifier">ma_Sun</span>() <span class="ruby-operator">:</span> <span class="ruby-ivar">@ma</span>

    <span class="ruby-comment">#geo = GeoLatLng.new</span>
    <span class="ruby-ivar">@addr</span> = <span class="ruby-identifier">addr</span>
    <span class="ruby-comment">#addr.nil? ? geo.addr=(geo.default_int) : geo.addr=addr</span>
<span class="ruby-comment"># uncomment below if you have internet connection</span>
    <span class="ruby-comment">#geo.get_coordinates_from_address</span>
    <span class="ruby-comment">#@latitude = geo.lat.to_f</span>
    <span class="ruby-comment">#@longitude = geo.lng.to_f</span>
  <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-ajd_to_datetime" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ajd_to_datetime</span><span
            class="method-args">(ajd)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From times.rb:<br> Pass in an AJD number Returns a DateTime object</p>
          
          

          
          <div class="method-source-code" id="ajd_to_datetime-source">
            <pre><span class="ruby-comment"># File lib/eot/times.rb, line 9</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ajd_to_datetime</span>(<span class="ruby-identifier">ajd</span>)
  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">jd</span>(<span class="ruby-identifier">ajd</span> <span class="ruby-operator">+</span> <span class="ruby-value">0.5</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-al_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">al_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br>  Apparent solar longitude = true longitude - aberation</p>
          
          

          
          <div class="method-source-code" id="al_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 8</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">al_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )  
  <span class="ruby-identifier">tl_Sun</span>( <span class="ruby-identifier">ta</span> ) <span class="ruby-operator">-</span> 
           <span class="ruby-value">0.00569</span> <span class="ruby-operator">-</span> 
           <span class="ruby-value">0.00478</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">sin</span>( <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-identifier">omega</span>( <span class="ruby-identifier">ta</span> ) ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-apparent_longitude">apparent_longitude</a>
        </div>
        

        
      </div>

    
      <div id="method-i-angle_delta_oblique" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">angle_delta_oblique</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> one time component to total equation of time</p>
          
          

          
          <div class="method-source-code" id="angle_delta_oblique-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 18</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">angle_delta_oblique</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span>    = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )         
  <span class="ruby-identifier">tl_Sun</span>( <span class="ruby-identifier">ta</span> ) <span class="ruby-operator">-</span> 
  <span class="ruby-identifier">ra_Sun</span>( <span class="ruby-identifier">ta</span> )        
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-angle_delta_orbit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">angle_delta_orbit</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br>  one time component to total equation of time</p>
          
          

          
          <div class="method-source-code" id="angle_delta_orbit-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 26</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">angle_delta_orbit</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span>    = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )        
  <span class="ruby-ivar">@ma</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">ta_Sun</span>( <span class="ruby-identifier">ta</span> ) 
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-angle_delta_psi" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">angle_delta_psi</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> component of equation of equinox</p>
          
          

          
          <div class="method-source-code" id="angle_delta_psi-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 33</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">angle_delta_psi</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )  
  <span class="ruby-identifier">delta_equinox</span>( <span class="ruby-identifier">ta</span> )[ <span class="ruby-value">1</span> ]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-angle_equation_of_time" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">angle_equation_of_time</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> total equation of time</p>
          
          

          
          <div class="method-source-code" id="angle_equation_of_time-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 40</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">angle_equation_of_time</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-ivar">@ma</span>    =         <span class="ruby-identifier">ma_Sun</span>()    
  <span class="ruby-identifier">angle_delta_oblique</span>( <span class="ruby-identifier">ta</span> ) <span class="ruby-operator">+</span>
        <span class="ruby-identifier">angle_delta_orbit</span>( <span class="ruby-identifier">ta</span> )    
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-apparent_longitude" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">apparent_longitude</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-al_Sun">al_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-apparent_longitude_string" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">apparent_longitude_string</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-string_al_Sun">string_al_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-bd" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bd</span><span
            class="method-args">( var = 0.0 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br> if you want to use BigDecimal math</p>
          
          

          
          <div class="method-source-code" id="bd-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 8</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bd</span>( <span class="ruby-identifier">var</span> = <span class="ruby-value">0.0</span> )
  <span class="ruby-identifier">var</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">var</span> = <span class="ruby-value">0.0</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">var</span>
  <span class="ruby-constant">BigDecimal</span>( <span class="ruby-identifier">var</span>.<span class="ruby-identifier">to_s</span> ) <span class="ruby-operator">*</span> <span class="ruby-value">1.0</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-center" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">center</span><span
            class="method-args">( ta = A2000)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> equation of centre added to mean anomaly to get true
anomaly.</p>
          
          

          
          <div class="method-source-code" id="center-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 50</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">center</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span>)
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )    
  <span class="ruby-identifier">sine_1M</span> = <span class="ruby-identifier">sin</span>( <span class="ruby-value">1.0</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-ivar">@ma</span> ) )
  <span class="ruby-identifier">sine_2M</span> = <span class="ruby-identifier">sin</span>( <span class="ruby-value">2.0</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-ivar">@ma</span> ) )
  <span class="ruby-identifier">sine_3M</span> = <span class="ruby-identifier">sin</span>( <span class="ruby-value">3.0</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-ivar">@ma</span> ) )
  <span class="ruby-identifier">sine_4M</span> = <span class="ruby-identifier">sin</span>( <span class="ruby-value">4.0</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-ivar">@ma</span> ) )
  <span class="ruby-identifier">sine_5M</span> = <span class="ruby-identifier">sin</span>( <span class="ruby-value">5.0</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-ivar">@ma</span> ) )
  <span class="ruby-identifier">e</span> = <span class="ruby-identifier">eccentricity_Earth</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">rad_to_deg</span>( <span class="ruby-identifier">sine_1M</span> <span class="ruby-operator">*</span> (     <span class="ruby-value">2.0</span>  <span class="ruby-operator">*</span> <span class="ruby-identifier">e</span>    <span class="ruby-operator">-</span> <span class="ruby-identifier">e</span><span class="ruby-operator">**</span><span class="ruby-value">3</span><span class="ruby-operator">/</span><span class="ruby-value">4.0</span> <span class="ruby-operator">+</span> <span class="ruby-value">5</span><span class="ruby-operator">/</span><span class="ruby-value">96.0</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">e</span><span class="ruby-operator">**</span><span class="ruby-value">5</span> ) <span class="ruby-operator">+</span>  
              <span class="ruby-identifier">sine_2M</span> <span class="ruby-operator">*</span> (   <span class="ruby-value">5</span><span class="ruby-operator">/</span><span class="ruby-value">4.0</span>  <span class="ruby-operator">*</span> <span class="ruby-identifier">e</span><span class="ruby-operator">**</span><span class="ruby-value">2</span> <span class="ruby-operator">-</span> <span class="ruby-value">11</span><span class="ruby-operator">/</span><span class="ruby-value">24.0</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">e</span><span class="ruby-operator">**</span><span class="ruby-value">4</span> )           <span class="ruby-operator">+</span> 
              <span class="ruby-identifier">sine_3M</span> <span class="ruby-operator">*</span> ( <span class="ruby-value">13</span><span class="ruby-operator">/</span><span class="ruby-value">12.0</span>  <span class="ruby-operator">*</span> <span class="ruby-identifier">e</span><span class="ruby-operator">**</span><span class="ruby-value">3</span> <span class="ruby-operator">-</span> <span class="ruby-value">43</span><span class="ruby-operator">/</span><span class="ruby-value">64.0</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">e</span><span class="ruby-operator">**</span><span class="ruby-value">5</span> )           <span class="ruby-operator">+</span>
              <span class="ruby-identifier">sine_4M</span> <span class="ruby-operator">*</span>  <span class="ruby-value">103</span><span class="ruby-operator">/</span><span class="ruby-value">96.0</span>  <span class="ruby-operator">*</span> <span class="ruby-identifier">e</span><span class="ruby-operator">**</span><span class="ruby-value">4</span>                              <span class="ruby-operator">+</span>
              <span class="ruby-identifier">sine_5M</span> <span class="ruby-operator">*</span> <span class="ruby-value">1097</span><span class="ruby-operator">/</span><span class="ruby-value">960.0</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">e</span><span class="ruby-operator">**</span><span class="ruby-value">5</span>                              )
  <span class="ruby-comment"># sine_1M *( 1.914602 - ta[ 0 ] * ( 0.004817 + ta[ 0 ] * 0.000014 )) +                                               +</span>
  <span class="ruby-comment"># sine_2M *( 0.019993 - ta[ 0 ] * 0.000101 )                         +                                              +</span>
  <span class="ruby-comment"># sine_3M *  0.000289</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-equation_of_center">equation_of_center</a>
        </div>
        

        
      </div>

    
      <div id="method-i-check_date_nil" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_date_nil</span><span
            class="method-args">( d = D2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br>  A check for default <a
href="EqoT.html#D2000">D2000</a> sets default when arg is nil</p>
          
          

          
          <div class="method-source-code" id="check_date_nil-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 16</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_date_nil</span>( <span class="ruby-identifier">d</span> = <span class="ruby-constant">D2000</span> )
  <span class="ruby-identifier">d</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">d</span> = <span class="ruby-constant">D2000</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">d</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-check_date_zero" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_date_zero</span><span
            class="method-args">( d = D2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br>  A check for default <a
href="EqoT.html#D2000">D2000</a> sets default when arg is zero</p>
          
          

          
          <div class="method-source-code" id="check_date_zero-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 23</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_date_zero</span>( <span class="ruby-identifier">d</span> = <span class="ruby-constant">D2000</span> )
  <span class="ruby-identifier">d</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">d</span> = <span class="ruby-constant">D2000</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">d</span> = <span class="ruby-identifier">check_date_nil</span>( <span class="ruby-identifier">d</span> )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-check_jct_nil" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_jct_nil</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br>  A check for default <a
href="EqoT.html#A2000">A2000</a> sets default when arg is nil</p>
          
          

          
          <div class="method-source-code" id="check_jct_nil-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 44</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_jct_nil</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">ta</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-check_jct_zero" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_jct_zero</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br>  A check for default <a
href="EqoT.html#A2000">A2000</a> sets default when arg is zero</p>
          
          

          
          <div class="method-source-code" id="check_jct_zero-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 51</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_nil</span>( <span class="ruby-identifier">ta</span> )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-check_jd_nil" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_jd_nil</span><span
            class="method-args">( jd = J2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br>  A check for default <a
href="EqoT.html#J2000">J2000</a> sets default when arg is nil</p>
          
          

          
          <div class="method-source-code" id="check_jd_nil-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_jd_nil</span>( <span class="ruby-identifier">jd</span> = <span class="ruby-constant">J2000</span> )
  <span class="ruby-identifier">jd</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">jd</span> = <span class="ruby-constant">J2000</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">jd</span>      
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-check_jd_zero" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_jd_zero</span><span
            class="method-args">( jd = J2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br>  A check for default <a
href="EqoT.html#J2000">J2000</a> sets default when arg is zero</p>
          
          

          
          <div class="method-source-code" id="check_jd_zero-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 37</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_jd_zero</span>( <span class="ruby-identifier">jd</span> = <span class="ruby-constant">J2000</span> )
  <span class="ruby-identifier">jd</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">jd</span> = <span class="ruby-constant">J2000</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">jd</span> = <span class="ruby-identifier">check_jd_nil</span>( <span class="ruby-identifier">jd</span> )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-check_t_nil" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_t_nil</span><span
            class="method-args">( dt = DT2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br>  A check for default <a
href="EqoT.html#DT2000">DT2000</a> sets default when arg is nil</p>
          
          

          
          <div class="method-source-code" id="check_t_nil-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 58</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_t_nil</span>( <span class="ruby-identifier">dt</span> = <span class="ruby-constant">DT2000</span> )
  <span class="ruby-identifier">dt</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">dt</span> = <span class="ruby-constant">DT2000</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">dt</span>     
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-check_t_zero" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_t_zero</span><span
            class="method-args">( dt = DT2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br> A check for default <a
href="EqoT.html#DT2000">DT2000</a> sets default when arg is zero</p>
          
          

          
          <div class="method-source-code" id="check_t_zero-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_t_zero</span>( <span class="ruby-identifier">dt</span> = <span class="ruby-constant">DT2000</span> )      
  <span class="ruby-identifier">dt</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">dt</span> = <span class="ruby-constant">DT2000</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">dt</span> = <span class="ruby-identifier">check_t_nil</span>( <span class="ruby-identifier">dt</span> )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cosd" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cosd</span><span
            class="method-args">( x = 0.0 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br> Trig function for cosine of degrees used in the
nutation table calculations</p>
          
          

          
          <div class="method-source-code" id="cosd-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cosd</span>( <span class="ruby-identifier">x</span> = <span class="ruby-value">0.0</span> )
  <span class="ruby-identifier">x</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">x</span> = <span class="ruby-value">0.0</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">x</span>
  <span class="ruby-identifier">cos</span>( <span class="ruby-constant">DTR</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">x</span> )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cosine_al_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cosine_al_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> cosine apparent longitude could be useful when dividing</p>
          
          

          
          <div class="method-source-code" id="cosine_al_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cosine_al_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">cos</span>( <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-identifier">al_Sun</span>( <span class="ruby-identifier">ta</span> ) ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-cosine_apparent_longitude">cosine_apparent_longitude</a>
        </div>
        

        
      </div>

    
      <div id="method-i-cosine_apparent_longitude" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">cosine_apparent_longitude</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-cosine_al_Sun">cosine_al_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-cosine_tl_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cosine_tl_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> cosine true longitude used in solar right ascension</p>
          
          

          
          <div class="method-source-code" id="cosine_tl_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 81</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cosine_tl_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">cos</span>( <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-identifier">tl_Sun</span>( <span class="ruby-identifier">ta</span> ) ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-cosine_true_longitude">cosine_true_longitude</a>
        </div>
        

        
      </div>

    
      <div id="method-i-cosine_to_Earth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cosine_to_Earth</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> cosine true obliquity used in solar right ascension</p>
          
          

          
          <div class="method-source-code" id="cosine_to_Earth-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 90</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cosine_to_Earth</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">cos</span>( <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-identifier">to_Earth</span>( <span class="ruby-identifier">ta</span> ) ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-cosine_true_obliquity">cosine_true_obliquity</a>
        </div>
        

        
      </div>

    
      <div id="method-i-cosine_true_longitude" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">cosine_true_longitude</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-cosine_tl_Sun">cosine_tl_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-cosine_true_obliquity" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">cosine_true_obliquity</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-cosine_to_Earth">cosine_to_Earth</a>
        </div>
        
      </div>

    
      <div id="method-i-dec_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dec_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> solar declination</p>
          
          

          
          <div class="method-source-code" id="dec_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 98</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dec_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">sine_declination</span> = <span class="ruby-identifier">sin</span>( <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-identifier">to_Earth</span>( <span class="ruby-identifier">ta</span> ) ) ) <span class="ruby-operator">*</span> 
                                   <span class="ruby-identifier">sine_al_Sun</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">rad_to_deg</span>( <span class="ruby-identifier">asin</span>( <span class="ruby-identifier">sine_declination</span> ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-declination">declination</a>
        </div>
        

        
      </div>

    
      <div id="method-i-declination" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">declination</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-dec_Sun">dec_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-declination_string" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">declination_string</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-string_dec_Sun">string_dec_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-deg_to_rad" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deg_to_rad</span><span
            class="method-args">( degrees = 0.0 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br> degrees to radians conversion aliased by <a
href="EqoT.html#method-i-degrees_to_radians">#degrees_to_radians</a></p>
          
          

          
          <div class="method-source-code" id="deg_to_rad-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 80</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-identifier">degrees</span> = <span class="ruby-value">0.0</span> )
  <span class="ruby-identifier">degrees</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">degrees</span> = <span class="ruby-value">0.0</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">degrees</span>
  <span class="ruby-identifier">degrees</span> <span class="ruby-operator">*</span> <span class="ruby-constant">PI</span> <span class="ruby-operator">/</span> <span class="ruby-value">180.0</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-degrees_to_radians">degrees_to_radians</a>
        </div>
        

        
      </div>

    
      <div id="method-i-degrees_to_radians" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">degrees_to_radians</span><span
            class="method-args">( degrees = 0.0 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-deg_to_rad">deg_to_rad</a>
        </div>
        
      </div>

    
      <div id="method-i-degrees_to_s" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">degrees_to_s</span><span
            class="method-args">( degrees = 0.0 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String formatter for d:m:s display</p>
          
          

          
          <div class="method-source-code" id="degrees_to_s-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 7</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">degrees_to_s</span>( <span class="ruby-identifier">degrees</span> = <span class="ruby-value">0.0</span> )
  <span class="ruby-identifier">degrees</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">degrees</span> = <span class="ruby-value">0.0</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">degrees</span>
  <span class="ruby-identifier">degrees</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">sign_string</span>      = <span class="ruby-string">&quot;-&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">sign_string</span> = <span class="ruby-string">&quot;+&quot;</span>    
                <span class="ruby-identifier">absolute_degrees</span> = <span class="ruby-identifier">degrees</span>.<span class="ruby-identifier">abs</span>
        <span class="ruby-identifier">absolute_degrees_integer</span> = <span class="ruby-constant">Integer</span>( <span class="ruby-identifier">absolute_degrees</span> )
        <span class="ruby-identifier">absolute_decimal_minutes</span> = <span class="ruby-value">60.0</span> <span class="ruby-operator">*</span> 
                                   (
                                    <span class="ruby-identifier">absolute_degrees</span> <span class="ruby-operator">-</span> 
                                    <span class="ruby-identifier">absolute_degrees_integer</span>
                                   )
        <span class="ruby-identifier">absolute_minutes_integer</span> = <span class="ruby-constant">Integer</span>( <span class="ruby-identifier">absolute_decimal_minutes</span> )
        <span class="ruby-identifier">absolute_decimal_seconds</span> = <span class="ruby-identifier">bd</span>( <span class="ruby-value">60.0</span> <span class="ruby-operator">*</span> 
                                      (
                                       <span class="ruby-identifier">absolute_decimal_minutes</span> <span class="ruby-operator">-</span> 
                                       <span class="ruby-identifier">absolute_minutes_integer</span>
                                      )
                                     )
        <span class="ruby-identifier">absolute_seconds_integer</span> = <span class="ruby-constant">Integer</span>( <span class="ruby-identifier">absolute_decimal_seconds</span> )
  <span class="ruby-identifier">absolute_milli_seconds_integer</span> = <span class="ruby-constant">Integer</span>(<span class="ruby-value">1000.0</span> <span class="ruby-operator">*</span>
                                               (
                                            <span class="ruby-identifier">absolute_decimal_seconds</span> <span class="ruby-operator">-</span> 
                                            <span class="ruby-identifier">absolute_seconds_integer</span>
                                           )
                                          )
                          <span class="ruby-identifier">sign_string</span> <span class="ruby-operator">+</span>
    <span class="ruby-string">&quot;%03d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">absolute_degrees_integer</span> <span class="ruby-operator">+</span>
                                  <span class="ruby-string">&quot;:&quot;</span> <span class="ruby-operator">+</span> 
    <span class="ruby-string">&quot;%02d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">absolute_minutes_integer</span> <span class="ruby-operator">+</span>
                                  <span class="ruby-string">&quot;:&quot;</span> <span class="ruby-operator">+</span> 
    <span class="ruby-string">&quot;%02d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">absolute_seconds_integer</span> <span class="ruby-operator">+</span>
                                  <span class="ruby-string">&quot;.&quot;</span> <span class="ruby-operator">+</span> 
    <span class="ruby-string">&quot;%3.3d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">absolute_milli_seconds_integer</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-delta_epsilon" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delta_epsilon</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> delta epsilon component of equation of equinox</p>
          
          

          
          <div class="method-source-code" id="delta_epsilon-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 109</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delta_epsilon</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">delta_equinox</span>( <span class="ruby-identifier">ta</span> )[ <span class="ruby-value">0</span> ]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-delta_equinox" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delta_equinox</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From nutation.rb<br> nutation data terms are used here. arc seconds are
used for these terms see <a
href="http://aa.usno.navy.mil/publications/docs/Circular_179.pdf">aa.usno.navy.mil/publications/docs/Circular_179.pdf</a>
page 46 (5.19)</p>
          
          

          
          <div class="method-source-code" id="delta_equinox-source">
            <pre><span class="ruby-comment"># File lib/eot/nutation.rb, line 82</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delta_equinox</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )    
  
  <span class="ruby-identifier">ma_moon</span> = [<span class="ruby-value">-0.00024470</span>, <span class="ruby-value">0.051635</span>, <span class="ruby-value">31.8792</span>, <span class="ruby-value">1717915923.2178</span>, <span class="ruby-value">485868.249036</span>].<span class="ruby-identifier">inject</span>(<span class="ruby-value">0.0</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span>, <span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">ta</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>}               

  <span class="ruby-identifier">ma_sun</span>  = [<span class="ruby-value">-0.00001149</span>, <span class="ruby-value">0.000136</span>, <span class="ruby-value">-0.5532</span>, <span class="ruby-value">129596581.0481</span>, <span class="ruby-value">1287104.79305</span>].<span class="ruby-identifier">inject</span>(<span class="ruby-value">0.0</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span>, <span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">ta</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>}        
                  
  <span class="ruby-identifier">md_moon</span> = [<span class="ruby-value">0.00000417</span>, <span class="ruby-value">-0.001037</span>, <span class="ruby-value">-12.7512</span>, <span class="ruby-value">1739527262.8478</span>, <span class="ruby-value">335779.526232</span>].<span class="ruby-identifier">inject</span>(<span class="ruby-value">0.0</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span>, <span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">ta</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>}
          
  <span class="ruby-identifier">me_moon</span> = [<span class="ruby-value">-0.00003169</span>, <span class="ruby-value">0.006593</span>, <span class="ruby-value">-6.3706</span>, <span class="ruby-value">1602961601.2090</span>, <span class="ruby-value">1072260.70369</span>].<span class="ruby-identifier">inject</span>(<span class="ruby-value">0.0</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span>, <span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">ta</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>} 
         
  <span class="ruby-identifier">omega</span>   = [<span class="ruby-value">-0.00005939</span>, <span class="ruby-value">0.007702</span>, <span class="ruby-value">7.4722</span>, <span class="ruby-value">-6962890.5431</span>, <span class="ruby-value">450160.398036</span>].<span class="ruby-identifier">inject</span>(<span class="ruby-value">0.0</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span>, <span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">ta</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>}            
  
      <span class="ruby-comment"># declare and clear these two variables for the sigma loop</span>
  <span class="ruby-identifier">delta_psi</span>, <span class="ruby-identifier">delta_eps</span> = <span class="ruby-value">0</span>, <span class="ruby-value">0</span>

  <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">for</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword">in</span> <span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-identifier">lines</span>
    <span class="ruby-identifier">fma_sun</span>    = <span class="ruby-identifier">data</span>[<span class="ruby-identifier">i</span>][<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>
    <span class="ruby-identifier">fma_moon</span>   = <span class="ruby-identifier">data</span>[<span class="ruby-identifier">i</span>][<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>      
    <span class="ruby-identifier">fmd_moon</span>   = <span class="ruby-identifier">data</span>[<span class="ruby-identifier">i</span>][<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>
    <span class="ruby-identifier">fme_moon</span>   = <span class="ruby-identifier">data</span>[<span class="ruby-identifier">i</span>][<span class="ruby-value">3</span>].<span class="ruby-identifier">to_i</span>  
    <span class="ruby-identifier">fomega</span>     = <span class="ruby-identifier">data</span>[<span class="ruby-identifier">i</span>][<span class="ruby-value">4</span>].<span class="ruby-identifier">to_i</span>

    <span class="ruby-identifier">sine</span>       = <span class="ruby-identifier">sind</span>(<span class="ruby-identifier">fma_moon</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">ma_moon</span> <span class="ruby-operator">+</span>
                      <span class="ruby-identifier">fma_sun</span>  <span class="ruby-operator">*</span> <span class="ruby-identifier">ma_sun</span>  <span class="ruby-operator">+</span>
                      <span class="ruby-identifier">fmd_moon</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">md_moon</span> <span class="ruby-operator">+</span>
                      <span class="ruby-identifier">fme_moon</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">me_moon</span> <span class="ruby-operator">+</span>
                      <span class="ruby-identifier">fomega</span>   <span class="ruby-operator">*</span> <span class="ruby-identifier">omega</span>)
        
    <span class="ruby-identifier">cosine</span>     = <span class="ruby-identifier">cosd</span>(<span class="ruby-identifier">fma_moon</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">ma_moon</span> <span class="ruby-operator">+</span>
                      <span class="ruby-identifier">fma_sun</span>  <span class="ruby-operator">*</span> <span class="ruby-identifier">ma_sun</span>  <span class="ruby-operator">+</span>
                      <span class="ruby-identifier">fmd_moon</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">md_moon</span> <span class="ruby-operator">+</span>
                      <span class="ruby-identifier">fme_moon</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">me_moon</span> <span class="ruby-operator">+</span>
                      <span class="ruby-identifier">fomega</span>   <span class="ruby-operator">*</span> <span class="ruby-identifier">omega</span>)
        
    <span class="ruby-identifier">delta_psi</span> <span class="ruby-operator">+=</span> (<span class="ruby-identifier">data</span>[<span class="ruby-identifier">i</span>][<span class="ruby-value">6</span>].<span class="ruby-identifier">to_f</span>  <span class="ruby-operator">+</span> 
                  <span class="ruby-identifier">data</span>[<span class="ruby-identifier">i</span>][<span class="ruby-value">7</span>].<span class="ruby-identifier">to_f</span>  <span class="ruby-operator">*</span> <span class="ruby-identifier">ta</span>[<span class="ruby-value">0</span>]) <span class="ruby-operator">*</span> <span class="ruby-identifier">sine</span> <span class="ruby-operator">+</span>
                  <span class="ruby-identifier">data</span>[<span class="ruby-identifier">i</span>][<span class="ruby-value">10</span>].<span class="ruby-identifier">to_f</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">cosine</span>
        
    <span class="ruby-identifier">delta_eps</span> <span class="ruby-operator">+=</span> (<span class="ruby-identifier">data</span>[<span class="ruby-identifier">i</span>][<span class="ruby-value">8</span>].<span class="ruby-identifier">to_f</span>   <span class="ruby-operator">+</span> 
                  <span class="ruby-identifier">data</span>[<span class="ruby-identifier">i</span>][<span class="ruby-value">9</span>].<span class="ruby-identifier">to_f</span>   <span class="ruby-operator">*</span> <span class="ruby-identifier">ta</span>[<span class="ruby-value">0</span>]) <span class="ruby-operator">*</span> <span class="ruby-identifier">cosine</span> <span class="ruby-operator">+</span>                                
                  <span class="ruby-identifier">data</span>[<span class="ruby-identifier">i</span>][<span class="ruby-value">12</span>].<span class="ruby-identifier">to_f</span>  <span class="ruby-operator">*</span> <span class="ruby-identifier">sine</span>                                            
                       
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">delta_eps</span>  = <span class="ruby-identifier">to_deg</span>( <span class="ruby-identifier">delta_eps</span> ) <span class="ruby-operator">/</span> <span class="ruby-value">1000.0</span>
  <span class="ruby-identifier">delta_psi</span>  = <span class="ruby-identifier">to_deg</span>( <span class="ruby-identifier">delta_psi</span> ) <span class="ruby-operator">/</span> <span class="ruby-value">1000.0</span>

  [ <span class="ruby-identifier">delta_eps</span>, <span class="ruby-identifier">delta_psi</span>, <span class="ruby-identifier">ma_sun</span>, <span class="ruby-identifier">omega</span>, <span class="ruby-identifier">ma_moon</span>, <span class="ruby-identifier">md_moon</span>, <span class="ruby-identifier">me_moon</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-delta_oblique" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delta_oblique</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> one time component to total equation of time</p>
          
          

          
          <div class="method-source-code" id="delta_oblique-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 116</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delta_oblique</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span>    = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )          
  <span class="ruby-identifier">tl_Sun</span>( <span class="ruby-identifier">ta</span> ) <span class="ruby-operator">-</span> 
  <span class="ruby-identifier">ra_Sun</span>( <span class="ruby-identifier">ta</span> )        
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-delta_t_ecliptic">delta_t_ecliptic</a>
        </div>
        

        
      </div>

    
      <div id="method-i-delta_orbit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delta_orbit</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> one time component to total equation of time</p>
          
          

          
          <div class="method-source-code" id="delta_orbit-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 125</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delta_orbit</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span>    = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )        
  <span class="ruby-ivar">@ma</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">ta_Sun</span>( <span class="ruby-identifier">ta</span> ) 
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-delta_t_elliptic">delta_t_elliptic</a>
        </div>
        

        
      </div>

    
      <div id="method-i-delta_psi" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delta_psi</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> component of equation of equinox</p>
          
          

          
          <div class="method-source-code" id="delta_psi-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 133</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delta_psi</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )  
  <span class="ruby-identifier">delta_equinox</span>( <span class="ruby-identifier">ta</span> )[ <span class="ruby-value">1</span> ]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-delta_t_ecliptic" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">delta_t_ecliptic</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-delta_oblique">delta_oblique</a>
        </div>
        
      </div>

    
      <div id="method-i-delta_t_elliptic" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">delta_t_elliptic</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-delta_orbit">delta_orbit</a>
        </div>
        
      </div>

    
      <div id="method-i-display_equation_of_time" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">display_equation_of_time</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-string_eot">string_eot</a>
        </div>
        
      </div>

    
      <div id="method-i-display_time_string" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">display_time_string</span><span
            class="method-args">( dt = DT2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-string_time">string_time</a>
        </div>
        
      </div>

    
      <div id="method-i-eccentricity_Earth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">eccentricity_Earth</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> eccentricity of elliptical Earth orbit around Sun
Horner calculation method</p>
          
          

          
          <div class="method-source-code" id="eccentricity_Earth-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 141</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eccentricity_Earth</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )      
  <span class="ruby-comment"># 0.016708617 - ta[ 0 ] * ( 0.000042037 + ta[ 0 ] * 0.0000001235 )</span>
  [<span class="ruby-value">-0.0000001235</span>, <span class="ruby-value">-0.000042037</span>, <span class="ruby-value">0.016708617</span>].<span class="ruby-identifier">inject</span>(<span class="ruby-value">0.0</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span>, <span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">ta</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-eccentricity_earth_orbit">eccentricity_earth_orbit</a>
        </div>
        

        
      </div>

    
      <div id="method-i-eccentricity_earth_orbit" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">eccentricity_earth_orbit</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-eccentricity_Earth">eccentricity_Earth</a>
        </div>
        
      </div>

    
      <div id="method-i-eot" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">eot</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> total equation of time</p>
          
          

          
          <div class="method-source-code" id="eot-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 158</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eot</span>()
  <span class="ruby-identifier">ta</span>  = <span class="ruby-identifier">time_julian_century</span>( <span class="ruby-ivar">@ajd</span> )
  <span class="ruby-ivar">@ma</span> = <span class="ruby-identifier">ma_Sun</span>()    
  <span class="ruby-identifier">delta_orbit</span>( <span class="ruby-identifier">ta</span> ) <span class="ruby-operator">+</span> <span class="ruby-identifier">delta_oblique</span>( <span class="ruby-identifier">ta</span> )           
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-eot_jd" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">eot_jd</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From times.rb:<br> Uses @ajd attribute Returns EOT as an AJD Julian number</p>
          
          

          
          <div class="method-source-code" id="eot_jd-source">
            <pre><span class="ruby-comment"># File lib/eot/times.rb, line 16</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eot_jd</span>
  <span class="ruby-identifier">time_eot</span>() <span class="ruby-operator">/</span> <span class="ruby-constant">DAY_MINUTES</span> 
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-eq_of_equinox" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">eq_of_equinox</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> equation of equinox</p>
          
          

          
          <div class="method-source-code" id="eq_of_equinox-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 150</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eq_of_equinox</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )  
  <span class="ruby-identifier">cosine_to_Earth</span>( <span class="ruby-identifier">ta</span> ) <span class="ruby-operator">*</span>
        <span class="ruby-identifier">delta_psi</span>( <span class="ruby-identifier">ta</span> )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-equation_of_center" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">equation_of_center</span><span
            class="method-args">( ta = A2000)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-center">center</a>
        </div>
        
      </div>

    
      <div id="method-i-factor" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">factor</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> angle factor for daily sidereal time (experimental)</p>
          
          

          
          <div class="method-source-code" id="factor-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 166</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">factor</span>
  <span class="ruby-identifier">jda</span>  =           <span class="ruby-constant">Date</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;2000-01-01&quot;</span>).<span class="ruby-identifier">jd</span>
  <span class="ruby-identifier">jdb</span>  =           <span class="ruby-identifier">jda</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
  <span class="ruby-identifier">tjca</span> =  <span class="ruby-identifier">time_julian_century</span>( <span class="ruby-identifier">jda</span> )
  <span class="ruby-identifier">tjcb</span> =  <span class="ruby-identifier">time_julian_century</span>( <span class="ruby-identifier">jdb</span> )
  <span class="ruby-identifier">tlaa</span> =             <span class="ruby-identifier">tl_Aries</span>( <span class="ruby-identifier">tjca</span> )
  <span class="ruby-identifier">tlab</span> =             <span class="ruby-identifier">tl_Aries</span>( <span class="ruby-identifier">tjcb</span> )
  <span class="ruby-identifier">dif</span>  = <span class="ruby-identifier">tlab</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">tlaa</span>
  <span class="ruby-identifier">dr</span>   = <span class="ruby-identifier">dif</span>  <span class="ruby-operator">+</span> <span class="ruby-value">360.0</span>
      <span class="ruby-value">360</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">dr</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-geometric_mean_longitude" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">geometric_mean_longitude</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-gml_Sun">gml_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-gml_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">gml_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> angle geometric mean longitude needed to get true
longitude for low accuracy.</p>
          
          

          
          <div class="method-source-code" id="gml_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 181</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">gml_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
      <span class="ruby-identifier">total</span> = [ <span class="ruby-value">1.0</span><span class="ruby-operator">/</span><span class="ruby-value">-19880000.0</span>, <span class="ruby-value">1.0</span><span class="ruby-operator">/</span><span class="ruby-value">-152990.0</span>, <span class="ruby-value">1.0</span><span class="ruby-operator">/</span><span class="ruby-value">499310.0</span>,
                <span class="ruby-value">0.0003032028</span>, <span class="ruby-value">36000.76982779</span>, <span class="ruby-value">280.4664567</span> ]
  <span class="ruby-identifier">mod_360</span>( <span class="ruby-identifier">total</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0.0</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span>, <span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">ta</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>} )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-geometric_mean_longitude">geometric_mean_longitude</a>
        </div>
        

        
      </div>

    
      <div id="method-i-ha_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ha_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> horizon angle for provided geo coordinates used for
angles from transit to horizon</p>
          
          

          
          <div class="method-source-code" id="ha_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 192</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ha_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">zenith</span>              = <span class="ruby-value">90.8333</span>
  <span class="ruby-identifier">cosine_zenith</span>       = <span class="ruby-identifier">cos</span>( <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-identifier">zenith</span> ) )
  <span class="ruby-identifier">cosine_declination</span>  = <span class="ruby-identifier">cos</span>( <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-identifier">dec_Sun</span>( <span class="ruby-identifier">ta</span> ) ) )
  <span class="ruby-identifier">sine_declination</span>    = <span class="ruby-identifier">sin</span>( <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-identifier">dec_Sun</span>( <span class="ruby-identifier">ta</span> ) ) )    
  <span class="ruby-identifier">cosine_latitude</span>     = <span class="ruby-identifier">cos</span>( <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-ivar">@latitude</span> ) )
  <span class="ruby-identifier">sine_latitude</span>       = <span class="ruby-identifier">sin</span>( <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-ivar">@latitude</span> ) )
  <span class="ruby-identifier">top</span>                 = <span class="ruby-identifier">cosine_zenith</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">sine_declination</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">sine_latitude</span>
  <span class="ruby-identifier">bottom</span>              = <span class="ruby-identifier">cosine_declination</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">cosine_latitude</span>
  <span class="ruby-identifier">t_cosine</span> = <span class="ruby-identifier">top</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">bottom</span> 
  <span class="ruby-identifier">t_cosine</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1.0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">t_cosine</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">-1.0</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">cos</span> = <span class="ruby-value">1.0</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">cos</span> = <span class="ruby-identifier">t_cosine</span>
  <span class="ruby-identifier">rad_to_deg</span>( <span class="ruby-identifier">acos</span>( <span class="ruby-identifier">cos</span> ) ) 
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-horizon_angle">horizon_angle</a>
        </div>
        

        
      </div>

    
      <div id="method-i-horizon_angle" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">horizon_angle</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-ha_Sun">ha_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-jd_to_date_string" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">jd_to_date_string</span><span
            class="method-args">( jd = J2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-string_jd_to_date">string_jd_to_date</a>
        </div>
        
      </div>

    
      <div id="method-i-julian_period_day_fraction_to_time" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">julian_period_day_fraction_to_time</span><span
            class="method-args">( jpd_time = 0.0 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-string_day_fraction_to_time">string_day_fraction_to_time</a>
        </div>
        
      </div>

    
      <div id="method-i-ma_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ma_Sun</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> angle of Suns&#39; mean anomaly used in equation of
time and to get true anomaly.</p>
          
          

          
          <div class="method-source-code" id="ma_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 212</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ma_Sun</span>()
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">time_julian_century</span>( <span class="ruby-ivar">@ajd</span> )
  <span class="ruby-identifier">ade</span> = <span class="ruby-identifier">delta_equinox</span>( <span class="ruby-identifier">ta</span> )[ <span class="ruby-value">2</span> ] <span class="ruby-operator">/</span> <span class="ruby-constant">ASD</span>
  <span class="ruby-ivar">@ma</span> = <span class="ruby-identifier">mod_360</span> <span class="ruby-identifier">ade</span>       
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-mean_anomaly">mean_anomaly</a>
        </div>
        

        
      </div>

    
      <div id="method-i-mean_anomaly" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">mean_anomaly</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-ma_Sun">ma_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-mean_anomaly_string" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">mean_anomaly_string</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-string_ma_Sun">string_ma_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-mean_local_noon_dt" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mean_local_noon_dt</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From times.rb:<br> Uses @ajd and @longitude attributes Returns DateTime
object of local mean noon or solar transit</p>
          
          

          
          <div class="method-source-code" id="mean_local_noon_dt-source">
            <pre><span class="ruby-comment"># File lib/eot/times.rb, line 23</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mean_local_noon_dt</span>()
  <span class="ruby-identifier">ajd_to_datetime</span>(<span class="ruby-ivar">@ajd</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@longitude</span> <span class="ruby-operator">/</span> <span class="ruby-value">360.0</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-mean_longitude_aries" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">mean_longitude_aries</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-ml_Aries">ml_Aries</a>
        </div>
        
      </div>

    
      <div id="method-i-mean_obliquity" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">mean_obliquity</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-mo_Earth">mo_Earth</a>
        </div>
        
      </div>

    
      <div id="method-i-mean_obliquity_of_ecliptic" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">mean_obliquity_of_ecliptic</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-mo_Earth">mo_Earth</a>
        </div>
        
      </div>

    
      <div id="method-i-ml_Aries" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ml_Aries</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> Mean equinox point where right ascension is measured
from as zero hours. # see <a
href="http://www.iausofa.org/publications/aas04.pdf">www.iausofa.org/publications/aas04.pdf</a></p>
          
          

          
          <div class="method-source-code" id="ml_Aries-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 222</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ml_Aries</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span>     = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">jd</span>     = <span class="ruby-identifier">ta</span>[ <span class="ruby-value">0</span> ] <span class="ruby-operator">*</span> <span class="ruby-constant">DJC</span> <span class="ruby-comment"># convert first term back to jdn - J2000</span>
  <span class="ruby-comment"># old terms         </span>
  <span class="ruby-comment"># angle  = (36000.770053608 / DJC + 360) * jd  # 36000.770053608 = 0.9856473662862 * DJC</span>
  <span class="ruby-comment"># total = [ -1.0/3.8710000e7, 3.87930e-4, 0, 100.460618375 ].inject(0.0) {|p, a| p * ta[0] + a} + 180 + angle  </span>
  <span class="ruby-comment"># newer terms seem to be in arcseconds / 15.0</span>
  <span class="ruby-comment"># 0.0000013, - 0.0000062, 0.0931118, 307.4771600, 8639877.3173760, 24110.5493771</span>
  <span class="ruby-identifier">angle</span>  = (<span class="ruby-value">35999.4888224</span> <span class="ruby-operator">/</span> <span class="ruby-constant">DJC</span> <span class="ruby-operator">+</span> <span class="ruby-value">360</span>) <span class="ruby-operator">*</span> <span class="ruby-identifier">jd</span>     
  <span class="ruby-identifier">total</span>  = <span class="ruby-identifier">angle</span> <span class="ruby-operator">+</span>   <span class="ruby-value">280.460622404583</span>   <span class="ruby-operator">+</span>
            <span class="ruby-identifier">ta</span>[ <span class="ruby-value">0</span> ] <span class="ruby-operator">*</span>  <span class="ruby-value">1.281154833333</span>   <span class="ruby-operator">+</span>
            <span class="ruby-identifier">ta</span>[ <span class="ruby-value">1</span> ] <span class="ruby-operator">*</span>  <span class="ruby-value">3.87965833333e-4</span> <span class="ruby-operator">+</span>
            <span class="ruby-identifier">ta</span>[ <span class="ruby-value">2</span> ] <span class="ruby-operator">*</span> <span class="ruby-value">-2.58333333333e-8</span> <span class="ruby-operator">+</span>
            <span class="ruby-identifier">ta</span>[ <span class="ruby-value">3</span> ] <span class="ruby-operator">*</span>  <span class="ruby-value">5.41666666666e-9</span>           
        <span class="ruby-identifier">mod_360</span>( <span class="ruby-identifier">total</span> )      
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-mean_longitude_aries">mean_longitude_aries</a>
        </div>
        

        
      </div>

    
      <div id="method-i-mo_Earth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mo_Earth</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> mean obliquity of Earth</p>
          
          

          
          <div class="method-source-code" id="mo_Earth-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 242</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mo_Earth</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )    
  [ <span class="ruby-value">-0.0000000434</span>, <span class="ruby-value">-0.000000576</span>,  <span class="ruby-value">0.00200340</span>, 
    <span class="ruby-value">-0.0001831</span>,   <span class="ruby-value">-46.836769</span>, <span class="ruby-value">84381.406</span> ].<span class="ruby-identifier">inject</span>(<span class="ruby-value">0.0</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span>, <span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">ta</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>} <span class="ruby-operator">/</span> <span class="ruby-constant">ASD</span>    
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-mean_obliquity_of_ecliptic">mean_obliquity_of_ecliptic</a>, <a href="EqoT.html#method-i-mean_obliquity">mean_obliquity</a>
        </div>
        

        
      </div>

    
      <div id="method-i-mod_360" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mod_360</span><span
            class="method-args">( x = 0.0 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br> Keeps large angles in range of 360.0 aliased by
truncate</p>
          
          

          
          <div class="method-source-code" id="mod_360-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mod_360</span>( <span class="ruby-identifier">x</span> = <span class="ruby-value">0.0</span> )      
  <span class="ruby-identifier">x</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">x</span> = <span class="ruby-value">0.0</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">x</span>
  <span class="ruby-value">360.0</span> <span class="ruby-operator">*</span> ( <span class="ruby-identifier">x</span> <span class="ruby-operator">/</span> <span class="ruby-value">360.0</span> <span class="ruby-operator">-</span> <span class="ruby-constant">Integer</span>( <span class="ruby-identifier">x</span> <span class="ruby-operator">/</span> <span class="ruby-value">360.0</span> ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-truncate">truncate</a>
        </div>
        

        
      </div>

    
      <div id="method-i-now" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">now</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From times.rb:<br> Uses changed @ajd attribute Returns EOT (equation of
time) now in decimal minutes time</p>
          
          

          
          <div class="method-source-code" id="now-source">
            <pre><span class="ruby-comment"># File lib/eot/times.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">now</span>()
  <span class="ruby-ivar">@ajd</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">to_time</span>.<span class="ruby-identifier">utc</span>.<span class="ruby-identifier">to_datetime</span>.<span class="ruby-identifier">ajd</span>
  <span class="ruby-identifier">time_eot</span>()
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-obliquity_correction" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">obliquity_correction</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-to_Earth">to_Earth</a>
        </div>
        
      </div>

    
      <div id="method-i-omega" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">omega</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> omega is a component of nutation and used  in apparent
longitude  omega is the longitude of the mean ascending node of the lunar
orbit  on the ecliptic plane measured from the mean equinox of date.</p>
          
          

          
          <div class="method-source-code" id="omega-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">omega</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">delta_equinox</span>( <span class="ruby-identifier">ta</span> )[ <span class="ruby-value">3</span> ] <span class="ruby-operator">/</span> <span class="ruby-constant">ASD</span>      
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ra_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ra_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> solar right ascension</p>
          
          

          
          <div class="method-source-code" id="ra_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 262</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ra_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">y0</span> = <span class="ruby-identifier">sine_al_Sun</span>( <span class="ruby-identifier">ta</span> ) <span class="ruby-operator">*</span> <span class="ruby-identifier">cosine_to_Earth</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-value">180.0</span> <span class="ruby-operator">+</span>           
  <span class="ruby-identifier">rad_to_deg</span>( <span class="ruby-identifier">atan2</span>( <span class="ruby-operator">-</span><span class="ruby-identifier">y0</span>, <span class="ruby-operator">-</span><span class="ruby-identifier">cosine_al_Sun</span>( <span class="ruby-identifier">ta</span> ) ) )    
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-right_ascension">right_ascension</a>
        </div>
        

        
      </div>

    
      <div id="method-i-rad_to_deg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rad_to_deg</span><span
            class="method-args">( radians = 0.0 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br> radians to degrees conversion aliased by <a
href="EqoT.html#method-i-radians_to_degrees">#radians_to_degrees</a></p>
          
          

          
          <div class="method-source-code" id="rad_to_deg-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 98</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rad_to_deg</span>( <span class="ruby-identifier">radians</span> = <span class="ruby-value">0.0</span> ) 
  <span class="ruby-identifier">radians</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">radians</span> = <span class="ruby-value">0.0</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">radians</span>
  <span class="ruby-identifier">radians</span> <span class="ruby-operator">*</span> <span class="ruby-value">180.0</span> <span class="ruby-operator">/</span> <span class="ruby-constant">PI</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-radians_to_degrees">radians_to_degrees</a>
        </div>
        

        
      </div>

    
      <div id="method-i-radians_to_degrees" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">radians_to_degrees</span><span
            class="method-args">( radians = 0.0 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-rad_to_deg">rad_to_deg</a>
        </div>
        
      </div>

    
      <div id="method-i-right_ascension" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">right_ascension</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-ra_Sun">ra_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-right_ascension_string" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">right_ascension_string</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-string_ra_Sun">string_ra_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-show_minutes" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">show_minutes</span><span
            class="method-args">(min = 0.0)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String formatter for + and - time</p>
          
          

          
          <div class="method-source-code" id="show_minutes-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 43</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">show_minutes</span>(<span class="ruby-identifier">min</span> = <span class="ruby-value">0.0</span>)
  <span class="ruby-identifier">min</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">min</span> = <span class="ruby-value">0.0</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">min</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0.0</span>)
  <span class="ruby-identifier">time</span> = <span class="ruby-identifier">time</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">min</span>.<span class="ruby-identifier">abs</span> <span class="ruby-operator">*</span> <span class="ruby-value">60.0</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">min</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0.0</span>
    <span class="ruby-identifier">sign</span> = <span class="ruby-string">&quot;-&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">sign</span> = <span class="ruby-string">&quot;+&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">time</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-node">&quot;#{sign}%M:%S.%3N&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-show_now" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">show_now</span><span
            class="method-args">(now = now(Time.now.utc))</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String for time now</p>
          
          

          
          <div class="method-source-code" id="show_now-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 57</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">show_now</span>(<span class="ruby-identifier">now</span> = <span class="ruby-identifier">now</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">utc</span>))
  <span class="ruby-identifier">show_minutes</span>(<span class="ruby-identifier">now</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sind" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sind</span><span
            class="method-args">( x = 0.0 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br> Trig function for sine of degrees used in the
nutation table calculations</p>
          
          

          
          <div class="method-source-code" id="sind-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 107</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sind</span>( <span class="ruby-identifier">x</span> = <span class="ruby-value">0.0</span> )
  <span class="ruby-identifier">x</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">x</span> = <span class="ruby-value">0.0</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">x</span>
  <span class="ruby-identifier">sin</span>( <span class="ruby-constant">DTR</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">x</span> )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sine_al_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sine_al_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> sine apparent longitude used in solar declination</p>
          
          

          
          <div class="method-source-code" id="sine_al_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 273</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sine_al_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">sin</span>( <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-identifier">al_Sun</span>( <span class="ruby-identifier">ta</span> ) ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-sine_apparent_longitude">sine_apparent_longitude</a>
        </div>
        

        
      </div>

    
      <div id="method-i-sine_apparent_longitude" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">sine_apparent_longitude</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-sine_al_Sun">sine_al_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-sine_tl_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sine_tl_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> sine true longitude used in solar right ascension</p>
          
          

          
          <div class="method-source-code" id="sine_tl_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 282</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sine_tl_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">sin</span>( <span class="ruby-identifier">deg_to_rad</span>( <span class="ruby-identifier">tl_Sun</span>( <span class="ruby-identifier">ta</span> ) ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-sine_true_longitude">sine_true_longitude</a>
        </div>
        

        
      </div>

    
      <div id="method-i-sine_true_longitude" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">sine_true_longitude</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-sine_tl_Sun">sine_tl_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-string_al_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_al_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String format of apparent longitude</p>
          
          

          
          <div class="method-source-code" id="string_al_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 63</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_al_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">degrees_to_s</span>( <span class="ruby-identifier">al_Sun</span>( <span class="ruby-identifier">ta</span> ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-apparent_longitude_string">apparent_longitude_string</a>
        </div>
        

        
      </div>

    
      <div id="method-i-string_day_fraction_to_time" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_day_fraction_to_time</span><span
            class="method-args">( jpd_time = 0.0 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String formatter for fraction of Julian day number</p>
          
          

          
          <div class="method-source-code" id="string_day_fraction_to_time-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 70</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_day_fraction_to_time</span>( <span class="ruby-identifier">jpd_time</span> = <span class="ruby-value">0.0</span> )
  <span class="ruby-identifier">jpd_time</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">jpd_time</span> = <span class="ruby-value">0.0</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">jpd_time</span>
  <span class="ruby-identifier">fraction</span> = <span class="ruby-identifier">jpd_time</span> <span class="ruby-operator">+</span> <span class="ruby-value">0.5</span> <span class="ruby-operator">-</span> <span class="ruby-constant">Integer</span>( <span class="ruby-identifier">jpd_time</span> )
  <span class="ruby-identifier">hours</span> = <span class="ruby-constant">Integer</span>( <span class="ruby-identifier">fraction</span> <span class="ruby-operator">*</span> <span class="ruby-constant">DAY_HOURS</span> )
  <span class="ruby-identifier">minutes</span> = <span class="ruby-constant">Integer</span>(( <span class="ruby-identifier">fraction</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">hours</span> <span class="ruby-operator">/</span> <span class="ruby-constant">DAY_HOURS</span> ) <span class="ruby-operator">*</span> <span class="ruby-constant">DAY_MINUTES</span> )
  <span class="ruby-identifier">seconds</span> = <span class="ruby-constant">Integer</span>(( <span class="ruby-identifier">fraction</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">hours</span> <span class="ruby-operator">/</span> <span class="ruby-value">24.0</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">minutes</span> <span class="ruby-operator">/</span> <span class="ruby-constant">DAY_MINUTES</span> ) <span class="ruby-operator">*</span> <span class="ruby-constant">DAY_SECONDS</span> )
  <span class="ruby-string">&quot;%02d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">hours</span>   <span class="ruby-operator">+</span>
  <span class="ruby-string">&quot;:&quot;</span>              <span class="ruby-operator">+</span>
  <span class="ruby-string">&quot;%02d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">minutes</span> <span class="ruby-operator">+</span>
  <span class="ruby-string">&quot;:&quot;</span>              <span class="ruby-operator">+</span>
  <span class="ruby-string">&quot;%02d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">seconds</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-julian_period_day_fraction_to_time">julian_period_day_fraction_to_time</a>
        </div>
        

        
      </div>

    
      <div id="method-i-string_dec_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_dec_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String format of declination</p>
          
          

          
          <div class="method-source-code" id="string_dec_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_dec_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">degrees_to_s</span>( <span class="ruby-identifier">dec_Sun</span>( <span class="ruby-identifier">ta</span> ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-declination_string">declination_string</a>
        </div>
        

        
      </div>

    
      <div id="method-i-string_delta_oblique" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_delta_oblique</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String format for delta oblique</p>
          
          

          
          <div class="method-source-code" id="string_delta_oblique-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 93</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_delta_oblique</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">show_minutes</span>(<span class="ruby-identifier">delta_oblique</span>( <span class="ruby-identifier">ta</span> ))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-string_delta_orbit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_delta_orbit</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String format for delta orbit</p>
          
          

          
          <div class="method-source-code" id="string_delta_orbit-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 99</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_delta_orbit</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">show_minutes</span>(<span class="ruby-identifier">delta_orbit</span>( <span class="ruby-identifier">ta</span> ))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-string_eot" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_eot</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> Equation of time output for minutes and seconds</p>
          
          

          
          <div class="method-source-code" id="string_eot-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 111</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_eot</span>()    
  <span class="ruby-identifier">eot</span> = <span class="ruby-identifier">time_eot</span>()  
  <span class="ruby-identifier">min_eot</span> = <span class="ruby-identifier">eot</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">min_eot</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0.0</span>
    <span class="ruby-identifier">sign</span> = <span class="ruby-string">&quot;-&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">sign</span> = <span class="ruby-string">&quot;+&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">eot</span> = <span class="ruby-identifier">min_eot</span>.<span class="ruby-identifier">abs</span>
  <span class="ruby-identifier">minutes</span> = <span class="ruby-constant">Integer</span>( <span class="ruby-identifier">eot</span> )
  <span class="ruby-identifier">seconds</span> = ( <span class="ruby-identifier">eot</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">minutes</span> ) <span class="ruby-operator">*</span> <span class="ruby-value">60.0</span>
  <span class="ruby-identifier">decimal_seconds</span> = ( <span class="ruby-identifier">seconds</span> <span class="ruby-operator">-</span> <span class="ruby-constant">Integer</span>( <span class="ruby-identifier">seconds</span> )) <span class="ruby-operator">*</span> <span class="ruby-value">100.0</span>
  <span class="ruby-identifier">min</span> = <span class="ruby-string">&quot;%02d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">minutes</span>
  <span class="ruby-identifier">sec</span> = <span class="ruby-string">&quot;%02d&quot;</span> <span class="ruby-operator">%</span>  <span class="ruby-identifier">seconds</span>
  <span class="ruby-identifier">dec_sec</span> = <span class="ruby-string">&quot;%01d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">decimal_seconds</span>
  <span class="ruby-identifier">sign</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">min</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;m, &quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sec</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;.&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">dec_sec</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;s&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-display_equation_of_time">display_equation_of_time</a>
        </div>
        

        
      </div>

    
      <div id="method-i-string_eqc" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_eqc</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String format for centre</p>
          
          

          
          <div class="method-source-code" id="string_eqc-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 105</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_eqc</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">degrees_to_s</span>( <span class="ruby-identifier">center</span>( <span class="ruby-identifier">ta</span> ))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-string_jd_to_date" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_jd_to_date</span><span
            class="method-args">( jd = J2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String format conversion of jd to date</p>
          
          

          
          <div class="method-source-code" id="string_jd_to_date-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 132</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_jd_to_date</span>( <span class="ruby-identifier">jd</span> = <span class="ruby-constant">J2000</span> )
  <span class="ruby-identifier">jd</span> = <span class="ruby-identifier">check_jd_zero</span>( <span class="ruby-identifier">jd</span> )
  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">jd</span>( <span class="ruby-identifier">jd</span> ).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-jd_to_date_string">jd_to_date_string</a>
        </div>
        

        
      </div>

    
      <div id="method-i-string_ma_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_ma_Sun</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String format of mean anomaly</p>
          
          

          
          <div class="method-source-code" id="string_ma_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 140</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_ma_Sun</span>()
  <span class="ruby-identifier">degrees_to_s</span>( <span class="ruby-ivar">@ma</span> )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-mean_anomaly_string">mean_anomaly_string</a>
        </div>
        

        
      </div>

    
      <div id="method-i-string_ra_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_ra_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String format of right ascension</p>
          
          

          
          <div class="method-source-code" id="string_ra_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 147</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_ra_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">degrees_to_s</span>( <span class="ruby-identifier">ra_Sun</span>( <span class="ruby-identifier">ta</span> ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-right_ascension_string">right_ascension_string</a>
        </div>
        

        
      </div>

    
      <div id="method-i-string_ta_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_ta_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String format of true anomaly</p>
          
          

          
          <div class="method-source-code" id="string_ta_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 154</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_ta_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">degrees_to_s</span>( <span class="ruby-identifier">ta_Sun</span>( <span class="ruby-identifier">ta</span> ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-true_anomaly_string">true_anomaly_string</a>
        </div>
        

        
      </div>

    
      <div id="method-i-string_time" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_time</span><span
            class="method-args">( dt = DT2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String formatter for h:m:s display</p>
          
          

          
          <div class="method-source-code" id="string_time-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 161</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_time</span>( <span class="ruby-identifier">dt</span> = <span class="ruby-constant">DT2000</span> )
  <span class="ruby-identifier">dt</span> = <span class="ruby-identifier">check_t_zero</span>( <span class="ruby-identifier">dt</span> )
  
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">dt</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">DateTime</span>      
    <span class="ruby-identifier">hours</span>   = <span class="ruby-identifier">dt</span>.<span class="ruby-identifier">hour</span>
    <span class="ruby-identifier">minutes</span> = <span class="ruby-identifier">dt</span>.<span class="ruby-identifier">min</span>
    <span class="ruby-identifier">seconds</span> = <span class="ruby-identifier">dt</span>.<span class="ruby-identifier">sec</span>
    <span class="ruby-identifier">intsecs</span> = <span class="ruby-constant">Integer</span>( <span class="ruby-identifier">seconds</span> )
    <span class="ruby-identifier">decsecs</span> = <span class="ruby-constant">Integer</span>(( <span class="ruby-identifier">seconds</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">intsecs</span> ).<span class="ruby-identifier">round</span>( <span class="ruby-value">3</span> ) <span class="ruby-operator">*</span> <span class="ruby-value">1000.0</span> )
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">decimal</span> = <span class="ruby-identifier">dt</span> <span class="ruby-operator">%</span> <span class="ruby-constant">DAY_HOURS</span>
    <span class="ruby-identifier">hours</span> = <span class="ruby-constant">Integer</span>( <span class="ruby-identifier">decimal</span> )
    <span class="ruby-identifier">mindecimal</span> = <span class="ruby-identifier">bd</span>( <span class="ruby-value">60.0</span> <span class="ruby-operator">*</span> ( <span class="ruby-identifier">decimal</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">hours</span> )) <span class="ruby-operator">*</span> <span class="ruby-value">1.0</span>
    <span class="ruby-identifier">minutes</span> = <span class="ruby-constant">Integer</span>( <span class="ruby-identifier">mindecimal</span> )
    <span class="ruby-identifier">seconds</span> = <span class="ruby-identifier">bd</span>( <span class="ruby-value">60.0</span> <span class="ruby-operator">*</span> ( <span class="ruby-identifier">mindecimal</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">minutes</span> )) <span class="ruby-operator">*</span> <span class="ruby-value">1.0</span>    
    <span class="ruby-identifier">intsecs</span> = <span class="ruby-constant">Integer</span>( <span class="ruby-identifier">seconds</span> )
    <span class="ruby-identifier">decsecs</span> = <span class="ruby-constant">Integer</span>(( <span class="ruby-identifier">seconds</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">intsecs</span> ).<span class="ruby-identifier">round</span>( <span class="ruby-value">3</span> ) <span class="ruby-operator">*</span> <span class="ruby-value">1000.0</span> )
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-string">&quot;%02d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">hours</span>   <span class="ruby-operator">+</span>
               <span class="ruby-string">&quot;:&quot;</span> <span class="ruby-operator">+</span> 
  <span class="ruby-string">&quot;%02d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">minutes</span> <span class="ruby-operator">+</span> 
               <span class="ruby-string">&quot;:&quot;</span> <span class="ruby-operator">+</span> 
  <span class="ruby-string">&quot;%02d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">intsecs</span> <span class="ruby-operator">+</span>
               <span class="ruby-string">&quot;.&quot;</span> <span class="ruby-operator">+</span>
  <span class="ruby-string">&quot;%3.3d&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">decsecs</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-display_time_string">display_time_string</a>
        </div>
        

        
      </div>

    
      <div id="method-i-string_tl_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_tl_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String format of true longitude</p>
          
          

          
          <div class="method-source-code" id="string_tl_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 192</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_tl_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">degrees_to_s</span>( <span class="ruby-identifier">tl_Sun</span>( <span class="ruby-identifier">ta</span> ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-true_longitude_string">true_longitude_string</a>
        </div>
        

        
      </div>

    
      <div id="method-i-string_to_Earth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_to_Earth</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From displays.rb<br> String format of true obliquity</p>
          
          

          
          <div class="method-source-code" id="string_to_Earth-source">
            <pre><span class="ruby-comment"># File lib/eot/displays.rb, line 199</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_to_Earth</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">degrees_to_s</span>( <span class="ruby-identifier">to_Earth</span>( <span class="ruby-identifier">ta</span> ) )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-true_obliquity_string">true_obliquity_string</a>
        </div>
        

        
      </div>

    
      <div id="method-i-sunrise_dt" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sunrise_dt</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From times.rb:<br> Uses @ajd attribute Returns a DateTime object of local
sunrise</p>
          
          

          
          <div class="method-source-code" id="sunrise_dt-source">
            <pre><span class="ruby-comment"># File lib/eot/times.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sunrise_dt</span>()
  <span class="ruby-identifier">eot_jd</span>()                
  <span class="ruby-identifier">eot_dt</span>             = <span class="ruby-identifier">ajd_to_datetime</span>(<span class="ruby-identifier">eot_jd</span>())
  <span class="ruby-identifier">local_noon_dt</span>      = <span class="ruby-identifier">ajd_to_datetime</span>(<span class="ruby-identifier">mean_local_noon_dt</span>() <span class="ruby-operator">-</span> <span class="ruby-identifier">eot_dt</span>)
  <span class="ruby-identifier">tjca</span>               = <span class="ruby-identifier">time_julian_century</span>( <span class="ruby-identifier">local_noon_dt</span>.<span class="ruby-identifier">ajd</span> )
  <span class="ruby-identifier">lha_dt</span>             = <span class="ruby-identifier">ajd_to_datetime</span>(<span class="ruby-identifier">ha_Sun</span>( <span class="ruby-identifier">tjca</span> ) <span class="ruby-operator">/</span> <span class="ruby-value">360.0</span>)                      
  <span class="ruby-identifier">ajd_to_datetime</span>(<span class="ruby-identifier">local_noon_dt</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">lha_dt</span>)      
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sunrise_jd" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sunrise_jd</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From times.rb:<br>  Uses @ajd attribute Returns Sunrise as a Julian number</p>
          
          

          
          <div class="method-source-code" id="sunrise_jd-source">
            <pre><span class="ruby-comment"># File lib/eot/times.rb, line 50</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sunrise_jd</span>()    
  <span class="ruby-identifier">sunrise_dt</span>.<span class="ruby-identifier">ajd</span>.<span class="ruby-identifier">to_f</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sunset_dt" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sunset_dt</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From times.rb:<br> Uses @ajd attribute Returns a DateTime object of local
sunset</p>
          
          

          
          <div class="method-source-code" id="sunset_dt-source">
            <pre><span class="ruby-comment"># File lib/eot/times.rb, line 57</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sunset_dt</span>()                               
  <span class="ruby-identifier">eot_dt</span>             = <span class="ruby-identifier">ajd_to_datetime</span>(<span class="ruby-identifier">eot_jd</span>())
  <span class="ruby-identifier">local_noon_dt</span>      = <span class="ruby-identifier">ajd_to_datetime</span>(<span class="ruby-identifier">mean_local_noon_dt</span>() <span class="ruby-operator">-</span> <span class="ruby-identifier">eot_dt</span>)
  <span class="ruby-identifier">tjca</span>               = <span class="ruby-identifier">time_julian_century</span>( <span class="ruby-identifier">local_noon_dt</span>.<span class="ruby-identifier">ajd</span> )
  <span class="ruby-identifier">lha_dt</span>             = <span class="ruby-identifier">ajd_to_datetime</span>(<span class="ruby-operator">-</span><span class="ruby-identifier">ha_Sun</span>( <span class="ruby-identifier">tjca</span> ) <span class="ruby-operator">/</span> <span class="ruby-value">360.0</span>)                      
  <span class="ruby-identifier">ajd_to_datetime</span>(<span class="ruby-identifier">local_noon_dt</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">lha_dt</span>)      
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sunset_jd" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sunset_jd</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From times.rb:<br> Uses @ajd attribute Returns Sunset as a Julian number</p>
          
          

          
          <div class="method-source-code" id="sunset_jd-source">
            <pre><span class="ruby-comment"># File lib/eot/times.rb, line 68</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sunset_jd</span>()
  <span class="ruby-identifier">sunset_dt</span>.<span class="ruby-identifier">ajd</span>.<span class="ruby-identifier">to_f</span>  
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ta_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ta_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> angle true anomaly used in equation of time</p>
          
          

          
          <div class="method-source-code" id="ta_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 291</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ta_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
<span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )  
  <span class="ruby-ivar">@ma</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">center</span>( <span class="ruby-identifier">ta</span> )  
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-true_anomaly">true_anomaly</a>
        </div>
        

        
      </div>

    
      <div id="method-i-time_delta_oblique" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">time_delta_oblique</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From times.rb:<br> Uses @ajd attribute Returns Oblique component of EOT in
decimal minutes time</p>
          
          

          
          <div class="method-source-code" id="time_delta_oblique-source">
            <pre><span class="ruby-comment"># File lib/eot/times.rb, line 75</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">time_delta_oblique</span>()
  <span class="ruby-identifier">ta</span>  = <span class="ruby-identifier">time_julian_century</span>(<span class="ruby-ivar">@ajd</span>)
  <span class="ruby-ivar">@ma</span> =         <span class="ruby-identifier">ma_Sun</span>()       
  (<span class="ruby-identifier">tl_Sun</span>( <span class="ruby-identifier">ta</span> ) <span class="ruby-operator">-</span> 
   <span class="ruby-identifier">ra_Sun</span>( <span class="ruby-identifier">ta</span> )) <span class="ruby-operator">*</span> <span class="ruby-constant">SM</span>        
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-time_delta_orbit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">time_delta_orbit</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From times.rb:<br> Uses @ajd attribute Returns Orbit component of EOT in
decimal minutes time</p>
          
          

          
          <div class="method-source-code" id="time_delta_orbit-source">
            <pre><span class="ruby-comment"># File lib/eot/times.rb, line 85</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">time_delta_orbit</span>()
  <span class="ruby-identifier">ta</span>  = <span class="ruby-identifier">time_julian_century</span>(<span class="ruby-ivar">@ajd</span>)    
  <span class="ruby-ivar">@ma</span>   =         <span class="ruby-identifier">ma_Sun</span>()       
  (<span class="ruby-ivar">@ma</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">ta_Sun</span>( <span class="ruby-identifier">ta</span> )) <span class="ruby-operator">*</span> <span class="ruby-constant">SM</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-time_eot" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">time_eot</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From times.rb:<br> Uses @ajd attribute Returns EOT as a float for decimal
minutes time</p>
          
          

          
          <div class="method-source-code" id="time_eot-source">
            <pre><span class="ruby-comment"># File lib/eot/times.rb, line 94</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">time_eot</span>()
  <span class="ruby-identifier">eot</span>() <span class="ruby-operator">*</span> <span class="ruby-constant">SM</span>    
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-time_julian_centurey" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">time_julian_centurey</span><span
            class="method-args">( dt = DT2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-time_julian_century">time_julian_century</a>
        </div>
        
      </div>

    
      <div id="method-i-time_julian_century" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">time_julian_century</span><span
            class="method-args">( dt = DT2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From times.rb:<br> All calculations with ( ta )  based on this. Julian
Century Time is a fractional century Julian Day Number <a
href="EqoT.html#J2000">J2000</a> is subtracted Returns an array of
fractional century powers</p>
          
          

          
          <div class="method-source-code" id="time_julian_century-source">
            <pre><span class="ruby-comment"># File lib/eot/times.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">time_julian_century</span>( <span class="ruby-identifier">dt</span> = <span class="ruby-constant">DT2000</span> )
  <span class="ruby-identifier">dt</span>  = <span class="ruby-identifier">check_t_zero</span>( <span class="ruby-identifier">dt</span> )              
  <span class="ruby-identifier">dt</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">DateTime</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">jd</span> = <span class="ruby-identifier">dt</span>.<span class="ruby-identifier">ajd</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">jd</span> = <span class="ruby-identifier">dt</span>

  <span class="ruby-identifier">t1</span> = ( <span class="ruby-identifier">jd</span> <span class="ruby-operator">-</span> <span class="ruby-constant">J2000</span> ) <span class="ruby-operator">/</span> <span class="ruby-constant">DJC</span>
  <span class="ruby-identifier">t2</span> = <span class="ruby-identifier">t1</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">t1</span>
  <span class="ruby-identifier">t3</span> = <span class="ruby-identifier">t1</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">t2</span>
  <span class="ruby-identifier">t4</span> = <span class="ruby-identifier">t2</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">t2</span>
  <span class="ruby-identifier">t5</span> = <span class="ruby-identifier">t2</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">t3</span>
  <span class="ruby-identifier">t6</span> = <span class="ruby-identifier">t3</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">t3</span>
  <span class="ruby-identifier">t7</span> = <span class="ruby-identifier">t3</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">t4</span>
  <span class="ruby-identifier">t8</span> = <span class="ruby-identifier">t4</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">t4</span>
  <span class="ruby-identifier">t9</span> = <span class="ruby-identifier">t4</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">t5</span>
  <span class="ruby-identifier">t10</span> = <span class="ruby-identifier">t5</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">t5</span>
  [ <span class="ruby-identifier">t1</span>, <span class="ruby-identifier">t2</span>, <span class="ruby-identifier">t3</span>, <span class="ruby-identifier">t4</span>, <span class="ruby-identifier">t5</span>, <span class="ruby-identifier">t6</span>, <span class="ruby-identifier">t7</span>, <span class="ruby-identifier">t8</span>, <span class="ruby-identifier">t9</span>, <span class="ruby-identifier">t10</span> ]      
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-time_julian_centurey">time_julian_centurey</a>
        </div>
        

        
      </div>

    
      <div id="method-i-tl_Aries" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">tl_Aries</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> true longitude of equinox &#39;first point of
aries&#39; considers nutation</p>
          
          

          
          <div class="method-source-code" id="tl_Aries-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 300</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">tl_Aries</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )  
  <span class="ruby-identifier">eq_of_equinox</span>( <span class="ruby-identifier">ta</span> ) <span class="ruby-operator">+</span>
           <span class="ruby-identifier">ml_Aries</span>( <span class="ruby-identifier">ta</span> )     
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-true_longitude_aries">true_longitude_aries</a>
        </div>
        

        
      </div>

    
      <div id="method-i-tl_Sun" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">tl_Sun</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> angle of true longitude sun used in equation of time</p>
          
          

          
          <div class="method-source-code" id="tl_Sun-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 310</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">tl_Sun</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">mod_360</span>( 
                <span class="ruby-identifier">gml_Sun</span>( <span class="ruby-identifier">ta</span> ) <span class="ruby-operator">+</span> 
           <span class="ruby-identifier">center</span>( <span class="ruby-identifier">ta</span> )
         )     
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-true_longitude">true_longitude</a>
        </div>
        

        
      </div>

    
      <div id="method-i-to_Earth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_Earth</span><span
            class="method-args">( ta = A2000 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From angles.rb:<br> true obliquity considers nutation</p>
          
          

          
          <div class="method-source-code" id="to_Earth-source">
            <pre><span class="ruby-comment"># File lib/eot/angles.rb, line 321</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_Earth</span>( <span class="ruby-identifier">ta</span> = <span class="ruby-constant">A2000</span> )
  <span class="ruby-identifier">ta</span> = <span class="ruby-identifier">check_jct_zero</span>( <span class="ruby-identifier">ta</span> )
  <span class="ruby-identifier">delta_epsilon</span>( <span class="ruby-identifier">ta</span> ) <span class="ruby-operator">+</span>
           <span class="ruby-identifier">mo_Earth</span>( <span class="ruby-identifier">ta</span> )     
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="EqoT.html#method-i-obliquity_correction">obliquity_correction</a>, <a href="EqoT.html#method-i-true_obliquity">true_obliquity</a>
        </div>
        

        
      </div>

    
      <div id="method-i-to_deg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_deg</span><span
            class="method-args">( arc_secs = 0.0 )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>From utilities.rb:<br> arc seconds to degree conversion</p>
          
          

          
          <div class="method-source-code" id="to_deg-source">
            <pre><span class="ruby-comment"># File lib/eot/utilities.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_deg</span>( <span class="ruby-identifier">arc_secs</span> = <span class="ruby-value">0.0</span> )
  <span class="ruby-identifier">arc_secs</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">arc_secs</span> = <span class="ruby-value">0.0</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">arc_secs</span>
  <span class="ruby-identifier">arc_secs</span> <span class="ruby-operator">/</span> <span class="ruby-constant">ARCSEC</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-true_anomaly" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">true_anomaly</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-ta_Sun">ta_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-true_anomaly_string" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">true_anomaly_string</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-string_ta_Sun">string_ta_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-true_longitude" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">true_longitude</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-tl_Sun">tl_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-true_longitude_aries" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">true_longitude_aries</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-tl_Aries">tl_Aries</a>
        </div>
        
      </div>

    
      <div id="method-i-true_longitude_string" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">true_longitude_string</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-string_tl_Sun">string_tl_Sun</a>
        </div>
        
      </div>

    
      <div id="method-i-true_obliquity" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">true_obliquity</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-to_Earth">to_Earth</a>
        </div>
        
      </div>

    
      <div id="method-i-true_obliquity_string" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">true_obliquity_string</span><span
            class="method-args">( ta = A2000 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-string_to_Earth">string_to_Earth</a>
        </div>
        
      </div>

    
      <div id="method-i-truncate" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">truncate</span><span
            class="method-args">( x = 0.0 )</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="EqoT.html#method-i-mod_360">mod_360</a>
        </div>
        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

